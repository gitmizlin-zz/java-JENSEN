import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.PrintWriter;

import javax.servlet.ServletContext;

public class ServletUtil {
	public static void readAndDisplayFile(String virtualPath, HttpServletRequest req, HttpServletResponse res,
			ServletContext context) throws ServletException, IOException {
		// get Output Stream
		PrintWriter out = res.getWriter();
		// set content type for writing the output
		res.setContentType("text/html");
		out.println("<html><head></head><body>");
		try {
			String actualPath = context.getRealPath(virtualPath);
			System.out.println(actualPath);
			File file = new File(actualPath);
			FileReader fileReader = new FileReader(file);
			BufferedReader buffReader = new BufferedReader(fileReader);
			String buffer = new String();
			while ((buffer = buffReader.readLine()) != null)
				out.println(buffer);
			buffReader.close();
		} catch (IOException e) {
			out.println("Error reading file: " + e.getMessage());
		}
		out.println("</body></html>");
		out.close();
	}
}
