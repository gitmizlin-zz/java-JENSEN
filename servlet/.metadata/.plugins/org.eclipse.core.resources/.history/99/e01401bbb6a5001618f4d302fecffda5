<%@page import="com.jensen.BlogPage"%>
<%@page import="com.jensen.BlogMock"%>
<html>

<!-- en index.jsp som är vår startsida. Denna ska visa upp rubrik, författare, datum, De första X tecken i inlägget samt en Läs mer-länk. -->
<!-- när man klickar på Läs mer-länken ska man komma till blog.jsp?id=X där X är id för det valda blogginlägget. Denna sida ska visa upp all data om inlägget -->
<!-- gör en enkel klass med statiska metoder/variabler för ifrån index och blog kunna hämta lite mock-data -->

<body>

För och efternamn: <%=request.getParameter("firstName")%> <%= request.getParameter("lastName")%>

<br> <br>

Användarens språk <%= request.getLocale() %>

<br><br>
Användarens "User Agent" <%= request.getHeader("User-Agent") %>
</body>
<h3>Blog articles</h3>
<p>

<%
com.jensen.BlogMock mock = new com.jensen.BlogMock ();

StringBuilder html = new StringBuilder();

for (BlogPage e : mock.getList()) {
	String id = String.valueOf(e.getId());
	out.println(id + ". "); 
	html.append("<br>"); 
	out.println("Date: " + e.getDate()); 
	html.append("<br>"); 
	out.println("Writer: " + e.getWriter());
	html.append("<br>"); 
	out.println("Content: " + e.getContent());
	html.append("<br><br>"); 
%>	
<a href=BlogServlet?page= <%= id; %>>Read more...</a><br><br>

<%	
}
%>
</p>


<jsp:include page="footer.jsp" />
</html>